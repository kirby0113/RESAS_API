(this["webpackJsonpresas-app"]=this["webpackJsonpresas-app"]||[]).push([[0],{101:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(69),o=a.n(c),s=(a(78),a(38)),i=a.n(s),d=a(70),u=a(2),l=a(4),p=a(39),j=a.n(p),f=(a(98),a(99),a(1)),b=function(){return Object(f.jsx)("div",{className:"Header",children:Object(f.jsx)("span",{className:"HeaderTitle",children:"RESAS_API_Population"})})},h=(a(101),function(e){return Object(f.jsx)("div",{className:"CheckBoxs "+(e.modalState?"modalActive":""),children:e.prefs.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:t.prefName,children:t.prefName}),Object(f.jsx)("input",{type:"checkbox",className:"checkbox",name:"prefName",value:t.prefCode,id:t.prefName,onChange:e.onChangeCheck})]},t.prefName)}))})}),O=a(73);a(208);var v=function(e){var t=Object(n.useState)(),a=Object(l.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){var t=e.graphDatas.map((function(e){var t=e.data.map((function(e){return e.year>=1995&&e.year<=2020?e.value:void 0})).filter((function(e){return e}));return{label:e.key,fill:!1,lineTension:.1,backgroundColor:e.color,borderColor:e.color,borderCapStyle:"round",borderDash:[],borderDashOffset:0,borderJoinStyle:"square",pointBorderColor:"rgba(255,0,0)",pointBackgroundColor:"#eee",pointBorderWidth:10,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(0,255,0)",pointHoverBorderColor:"rgba(0,0,255)",pointHoverBoderWidth:1,pointRadius:1,pointHitRadius:10,data:t}}));0===t.length&&(t=[{label:"",data:[]}]),c({labels:["1995\u5e74","2000\u5e74","2005\u5e74","2010\u5e74","2015\u5e74","2020\u5e74"],datasets:t})}),[e.graphDatas]);var o=Object(f.jsxs)("div",{className:"graph-container",children:[Object(f.jsx)(O.a,{data:r,options:{maintainAspectRatio:!1}}),Object(f.jsx)("span",{className:"y-label",children:"\u4eba\u53e3\u6570"}),Object(f.jsx)("span",{className:"x-label",children:"\u5e74"})]});return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{className:"graphHeading",children:"\u5404\u90fd\u9053\u5e9c\u770c\u306e\u4eba\u53e3\u63a8\u79fb"}),e.isLoaded?o:Object(f.jsx)("h2",{children:"NowLoading..."})]})};var m=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(l.a)(c,2),s=o[0],p=o[1],O=Object(n.useState)([]),m=Object(l.a)(O,2),g=m[0],x=m[1],N=Object(n.useState)(!1),C=Object(l.a)(N,2),y=C[0],k=C[1],S=Object(n.useState)({}),B=Object(l.a)(S,2),E=B[0],w=B[1],H=Object(n.useState)(!1),R=Object(l.a)(H,2),A=R[0],D=R[1];return Object(n.useRef)(null).current=E,Object(n.useEffect)((function(){window.addEventListener("resize",(function(){w({x:window.parent.screen.width,y:window.parent.screen.height})}))}),[]),Object(n.useEffect)((function(){try{j.a.get("https://opendata.resas-portal.go.jp/api/v1/prefectures",{headers:{"X-API-KEY":"QdcBeaEZsZeDqYRyHdNIpt4iU26GTa8ERHG1tdXh"}}).then((function(e){var t=e.data.result.map((function(e){return{prefName:e.prefName,prefCode:e.prefCode,color:"rgba(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")}}));r(t)}))}catch(e){console.log("error:",e)}}),[]),Object(n.useEffect)((function(){var e=[];x([]),k(!1);try{s.map(function(){var t=Object(d.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear?cityCode=-&prefCode=".concat(n),{headers:{"X-API-KEY":"QdcBeaEZsZeDqYRyHdNIpt4iU26GTa8ERHG1tdXh"}}).then((function(e){return e.data.result.data[0].data}));case 2:r=t.sent,e=[].concat(Object(u.a)(e),[{key:a[n-1].prefName,color:a[n-1].color,data:r}]),x(e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){console.log("error:",t)}}),[s]),Object(n.useEffect)((function(){g.length===s.length&&k(!0)}),[g]),Object(f.jsxs)("div",{className:"App",children:[E.y>650&&E.x>760?"":Object(f.jsx)("div",{className:"overray "+(A?"overrayActive":""),onClick:function(){D(!1)}}),E.y>650&&E.x>760?"":Object(f.jsx)("div",{className:"closeButton "+(A?"closeButtonActive":""),children:"\u03a7"}),Object(f.jsx)(b,{}),E.y>650&&E.x>760?Object(f.jsx)("h2",{children:"\u90fd\u9053\u5e9c\u770c"}):Object(f.jsx)("div",{className:"openModalButton",onClick:function(){D(!0)},children:"\u90fd\u9053\u5e9c\u770c\u3092\u9078\u3076"}),Object(f.jsx)(h,{onChangeCheck:function(e){p((function(t){var a=Number(e.target.value);if(t.includes(a)){var n=t.filter((function(e){return e!==a}));return Object(u.a)(n)}return[].concat(Object(u.a)(t),[Number(e.target.value)])}))},prefs:a,modalState:A}),Object(f.jsx)(v,{graphDatas:g,isLoaded:y})]})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,210)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root")),g()},78:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[209,1,2]]]);
//# sourceMappingURL=main.66d2a8dc.chunk.js.map