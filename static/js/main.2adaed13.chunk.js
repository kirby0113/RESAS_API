(this["webpackJsonpresas-app"]=this["webpackJsonpresas-app"]||[]).push([[0],{101:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(69),o=a.n(c),i=(a(78),a(38)),s=a.n(i),u=a(70),l=a(2),d=a(4),p=a(39),f=a.n(p),b=(a(98),a(99),a(1)),j=function(){return Object(b.jsx)("div",{className:"Header",children:Object(b.jsx)("span",{className:"HeaderTitle",children:"RESAS_API_Population"})})},h=(a(101),function(e){return Object(b.jsx)("div",{className:"CheckBoxs "+(e.modalState?"modalActive":""),children:e.prefs.map((function(t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"checkbox-label",htmlFor:t.prefName,children:t.prefName}),Object(b.jsx)("input",{type:"checkbox",className:"checkbox",name:"prefName",value:t.prefCode,id:t.prefName,onChange:e.onChangeCheck})]},t.prefName)}))})}),O=a(73),m=(a(208),function(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){var t=e.graphDatas.map((function(e){var t=e.data.map((function(e){return e.year>=1995&&e.year<=2020?e.value:void 0})).filter((function(e){return e}));return{label:e.key,fill:!1,lineTension:.1,backgroundColor:e.color,borderColor:e.color,borderCapStyle:"round",borderDash:[],borderDashOffset:0,borderJoinStyle:"square",pointBorderColor:"rgba(255,0,0)",pointBackgroundColor:"#eee",pointBorderWidth:10,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(0,255,0)",pointHoverBorderColor:"rgba(0,0,255)",pointHoverBoderWidth:1,pointRadius:1,pointHitRadius:10,data:t}}));0===t.length&&(t=[{label:"",data:[]}]),c({labels:["1995\u5e74","2000\u5e74","2005\u5e74","2010\u5e74","2015\u5e74","2020\u5e74"],datasets:t})}),[e.graphDatas]);var o=Object(b.jsxs)("div",{className:"graph-container",children:[Object(b.jsx)(O.a,{data:r,options:{maintainAspectRatio:!1}}),Object(b.jsx)("span",{className:"y-label",children:"\u4eba\u53e3\u6570"}),Object(b.jsx)("span",{className:"x-label",children:"\u5e74"})]});return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{className:"graph-heading",children:"\u5404\u90fd\u9053\u5e9c\u770c\u306e\u4eba\u53e3\u63a8\u79fb"}),e.isLoaded?o:Object(b.jsx)("h2",{children:"NowLoading..."})]})}),v="QdcBeaEZsZeDqYRyHdNIpt4iU26GTa8ERHG1tdXh",g=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(d.a)(c,2),i=o[0],p=o[1],O=Object(n.useState)([]),g=Object(d.a)(O,2),x=g[0],N=g[1],C=Object(n.useState)(!1),y=Object(d.a)(C,2),k=y[0],w=y[1],S=Object(n.useState)({x:window.innerWidth,y:window.innerHeight}),B=Object(d.a)(S,2),E=B[0],H=B[1],A=Object(n.useState)(!1),M=Object(d.a)(A,2),R=M[0],D=M[1],I=Object(n.useRef)(null);I.current=E,Object(n.useEffect)((function(){window.addEventListener("resize",(function(){H({x:window.innerWidth,y:window.innerHeight})}))}),[]),Object(n.useEffect)((function(){try{f.a.get("https://opendata.resas-portal.go.jp/api/v1/prefectures",{headers:{"X-API-KEY":v}}).then((function(e){var t=e.data.result.map((function(e){return{prefName:e.prefName,prefCode:e.prefCode,color:"rgba(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")")}}));r(t)}))}catch(e){console.log("error:",e)}}),[]);return Object(n.useEffect)((function(){var e=[];N([]),w(!1);try{i.map(function(){var t=Object(u.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear?cityCode=-&prefCode=".concat(n),{headers:{"X-API-KEY":v}}).then((function(e){return e.data.result.data[0].data}));case 2:r=t.sent,e=[].concat(Object(l.a)(e),[{key:a[n-1].prefName,color:a[n-1].color,data:r}]),N(e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(t){console.log("error:",t)}}),[i]),Object(n.useEffect)((function(){x.length===i.length&&w(!0)}),[x]),Object(b.jsxs)("div",{className:"App",children:[I.current.y>650&&I.current.x>760?"":Object(b.jsx)("div",{className:"overray "+(R?"overrayActive":""),onClick:function(){D(!1)},children:"\xa0"}),I.current.y>650&&I.current.x>760?"":Object(b.jsx)("div",{className:"closeButton "+(R?"closeButtonActive":""),onClick:function(){D(!1)},children:"\u03a7"}),Object(b.jsx)(j,{}),I.current.y>650&&I.current.x>760?Object(b.jsx)("h2",{className:"pref-heading",children:"\u90fd\u9053\u5e9c\u770c"}):Object(b.jsx)("div",{className:"openModalButton",onClick:function(){D(!0)},children:"\u90fd\u9053\u5e9c\u770c\u3092\u9078\u3076"}),Object(b.jsx)(h,{onChangeCheck:function(e){p((function(t){var a=Number(e.target.value);if(t.includes(a)){var n=t.filter((function(e){return e!==a}));return Object(l.a)(n)}return[].concat(Object(l.a)(t),[Number(e.target.value)])}))},prefs:a,modalState:R}),Object(b.jsx)(m,{graphDatas:x,isLoaded:k})]})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,210)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),x()},78:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[209,1,2]]]);
//# sourceMappingURL=main.2adaed13.chunk.js.map